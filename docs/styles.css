/* ========== 공통 레이아웃 ========== */
body {
  font-family: 'Arial';
  background: #f8edc0;
  margin: 0;
  padding: 2rem;
}

.container { max-width: 1200px; margin: 0 auto; }

header h1 {
  background: #a57b38;
  color: white;
  padding: 0.8rem;
  border-radius: 8px;
  display: inline-block;
}

/* ========== 회색 입력 패널(네모칸) ========== */
.input-section {
  position: absolute;
  top: 1rem;
  right: 2rem;
  background: #f1f1f1;
  padding: 1rem;
  border-radius: 1rem;
  width: 280px;                 /* 살짝 넓혀 가독성 개선 */
  box-shadow: 0 2px 6px rgba(0,0,0,.08);
}

/* 패널 머리: 입력방식 토글 + 확실성 라디오 */
.input-section .panel-header{
  display:flex;
  align-items:center;
  gap:.5rem;
  margin-bottom:.6rem;
}

/* 입력방식 토글(세그먼티드 버튼) */
.segmented{
  display:inline-flex;
  border:1px solid #aaa;
  border-radius:.6rem;
  overflow:hidden;
  background:#fff;
}
.segmented .seg{
  padding:.35rem .6rem;
  background:#fff;
  border:none;
  cursor:pointer;
  font-size:.9rem;
}
.segmented .seg + .seg{ border-left:1px solid #aaa; }
.segmented .seg.active{
  background:#a57b38;
  color:#fff;
}

/* 확실성 라디오 (패널 우측) */
.certainty-inline{
  margin-left:auto;
  display:flex;
  gap:.6rem;
  align-items:center;
  font-size:.85rem;
}
.certainty-inline label{ cursor:pointer; }

/* 패널 안 폼 요소 공통 */
.input-section input,
.input-section select,
.input-section button {
  margin: 0.3rem 0;
  padding: 0.4rem;
  width: 100%;
  border: 1px solid #aaa;
  border-radius: 0.4rem;
  background:#fff;
}

/* 탭 컨텐츠 전환(드롭박스/드래그) */
.panel-body.hidden{ display:none !important; }

/* 드롭박스 시간 선택 UI */
.time-picker-inline {
  display: flex;
  align-items: center;
  justify-content: space-between;
  margin-bottom: 10px;
}
.time-picker-inline label { flex: 1; font-weight: bold; }
.time-select-group {
  flex: 1.2;
  display: flex;
  align-items: center;
  gap: 5px;
}

/* ========== 드래그 모드 (가로) ========== */
.time-grid{
  display:grid;
  grid-auto-flow:column;
  grid-auto-columns:28px;      /* 30분 칸 너비 */
  gap:2px;
  user-select:none;
  background:#fff;
  border:1px solid #ddd;
  border-radius:.6rem;
  padding:.4rem;
  overflow-x:auto;
  min-height:28px;
  scrollbar-width: thin;
}
.drag-row{ display:flex; gap:.4rem; align-items:center; }
.drag-actions{ display:flex; gap:.4rem; margin-top:.5rem; }

.drag-slot{
  height:24px;
  border:1px solid #eee;
  border-radius:4px;
  background:#f7f7f7;
}
.drag-slot.selected-definite{ background: rgba(144, 238, 144, .6); } /* 연두 */
.drag-slot.selected-maybe{ background: rgba(128, 128, 128, .45); }   /* 회색 */

/* ========== 스케줄 보드(세로 시각화, 기존 유지) ========== */
.schedule {
  display: flex;
  justify-content: center;
  gap: 2rem;
  margin-top: 3rem;
  flex-wrap: wrap;
}

.day-column {
  background: #e5d2a2;
  padding: 1rem;
  border-radius: 1rem;
  width: 160px;
}

.day-label {
  text-align: center;
  font-weight: bold;
  margin-bottom: 1rem;
}

.time-slots { display: flex; flex-direction: column; gap: 2px; }

.slot-group {
  position: relative;
  height: 20px;
  border: 1px solid #aaa;
  background-color: white;
  margin-bottom: 2px;
  overflow: hidden;
  padding: 0;
}

/* :before로 라벨 바탕 가려 깔끔하게 */
.time-label {
  position: absolute;
  left: 4px;
  top: 50%;
  transform: translateY(-50%);
  font-size: 10px;
  font-weight: bold;
  z-index: 2;
  background: white;
  padding: 0 2px;
}

/* bar (겹침 구간) */
.availability-bar {
  position: absolute;
  top: 0;
  height: 100%;
  z-index: 1;
  border-radius: 3px;
  opacity: 0.9;
}

/* 확실함 단계 색상 */
.availability-bar.definite-1 { background-color: rgba(102, 187, 106, 0.2); }
.availability-bar.definite-2 { background-color: rgba(102, 187, 106, 0.4); }
.availability-bar.definite-3 { background-color: rgba(102, 187, 106, 0.6); }
.availability-bar.definite-4 { background-color: rgba(102, 187, 106, 0.8); }

/* 가능성 단계 색상 */
.availability-bar.maybe-1 { background-color: rgba(158, 158, 158, 0.2); }
.availability-bar.maybe-2 { background-color: rgba(158, 158, 158, 0.4); }
.availability-bar.maybe-3 { background-color: rgba(158, 158, 158, 0.6); }
.availability-bar.maybe-4 { background-color: rgba(158, 158, 158, 0.8); }

/* ========== 메모 카드 ========== */
.memo-section {
  margin: 2rem auto;
  padding: 1rem;
  max-width: 600px;
  background-color: #fff5e1;
  border: 2px solid #a7904d;
  border-radius: 12px;
  display: flex;
  flex-direction: column;   /* 세로 배치 */
  align-items: stretch;     /* 자식들이 가로폭 맞춤 */
}
.memo-section textarea {
  width: 100%;
  height: 140px;            /* 높이를 조금 더 키움 (100 → 140) */
  font-size: 1rem;
  padding: 0.75rem;
  margin-bottom: 0.75rem;   /* 버튼과 살짝 간격 */
  border-radius: 8px;
  border: 1px solid #ccc;
  resize: none;
  box-sizing: border-box;   /* padding 포함 계산 */
}
.memo-section button {
  align-self: flex-start;   /* 버튼이 좌측에 딱 붙게 */
  margin-bottom: 0.75rem;
}

.memo-section ul {
  list-style: none;
  padding: 0;
  margin: 0;
  max-height: 150px;
  overflow-y: auto;
  font-size: 0.9rem;
}


.memo-section li {
  background-color: #fff;
  border: 1px solid #ddd;
  padding: 0.5rem;
  margin-bottom: 0.5rem;
  border-radius: 8px;
}
/* 드래그 패널의 작은 칸 제거(보이더라도 숨김 처리) */
#dragGrid { display: none !important; }

/* 시간표 위 임시 선택(1명 선택) */
.slot-group.temp-definite { background-color: rgba(144, 238, 144, .25); } /* 연두, 더 연하게 */
.slot-group.temp-maybe    { background-color: rgba(128, 128, 128, .18); } /* 회색, 더 연하게 */

/* 1) 입력 패널 상단 UI */
.input-section {
  width: 280px;
  /* <- 여길 숫자만 바꿔서 조절! */
  --seg-w: 86px;     /* 탭 버튼 너비 (드롭박스 줄바꿈 맞추기용) */
  --seg-h: 38px;     /* 탭 버튼 높이 */
  --seg-fs: 14px;    /* 탭 버튼 글자 크기 */

  --name-h: 38px;    /* 이름 입력창 높이 (탭과 동일하게 맞춤) */
  --name-fs: 14px;   /* 이름 입력창 글자 크기 */

  --hint-fs: 12px;   /* 드래그 안내문 글자 크기 */
  --hint-lh: 1.35;   /* 드래그 안내문 줄간격 */
  box-shadow: 0 2px 6px rgba(0,0,0,.08);
}
.input-section .panel-header{ display:flex; align-items:center; gap:.5rem; margin-bottom:.6rem; }
.segmented{ display:inline-flex; border:1px solid #aaa; border-radius:.6rem; overflow:hidden; background:#fff; }
.segmented .seg{
  width: var(--seg-w);
  height: var(--seg-h);
  line-height: calc(var(--seg-h) - 2px);
  font-size: var(--seg-fs);
  white-space: normal;      /* 줄바꿈 허용 */
  text-align: center;
  padding: 0 .4rem;
  /*padding:.35rem .6rem;*/
  background:#fff;
  border:none;
  cursor:pointer;
  /*font-size:.9rem;*/
}

.segmented .seg + .seg{ border-left:1px solid #aaa; }
.segmented .seg.active{ background:#a57b38; color:#fff; }
.certainty-inline{ margin-left:auto; display:flex; gap:.6rem; align-items:center; font-size:.85rem; }
.panel-body.hidden{ display:none !important; }

/* ① 드롭박스/드래그 탭 버튼 */
.segmented .seg{
  width: var(--seg-w);
  height: var(--seg-h);
  line-height: calc(var(--seg-h) - 2px);
  font-size: var(--seg-fs);
  white-space: normal;      /* 줄바꿈 허용 */
  text-align: center;
  padding: 0 .4rem;
}
/* ② 이름 입력창 */
#name{
  height: var(--name-h);
  font-size: var(--name-fs);
}

/* ③ 드래그 안내문(줄 조정) */
#dragContent .hint{
  font-size: var(--hint-fs);
  line-height: var(--hint-lh);
  margin: .25rem 0 .5rem;
}

/* 2) 시간표 위 임시 선택(드래그 중/저장 전) */
.slot-group.temp-definite { background-color: rgba(102, 187, 106, 0.8); }
.slot-group.temp-maybe    { background-color: rgba(158, 158, 158, 0.8); }

/* 3) 내부 작은 드래그 그리드(미사용) 숨김 */
#dragGrid { display: none !important; }


.overlap-panel{
  position: absolute; left: 2rem; top: 22rem; /* 페이지 레이아웃에 맞게 조정 */
  width: 260px; background:#fff7e1; border:1px solid #e2c990;
  border-radius: 12px; padding: 12px; box-shadow: 0 4px 16px rgba(0,0,0,.08);
  font-size: 14px; z-index: 5;          /* 메모/슬롯 위로 올라오게 */
}
.overlap-panel h3{ margin: 0 0 8px; font-size: 16px; color:#6f4e1f; }
.op-time{ margin: 6px 0 10px; color:#8a6a3b; }
.op-group{ margin: 10px 0; }
.op-badge{ display:inline-block; padding:3px 8px; border-radius:999px; font-size:12px; margin-bottom:6px; }
.op-sure{ background:#ffe3a7; border:1px solid #e0b858; }
.op-maybe{ background:#e9f0ff; border:1px solid #98b4ff; }
#op-list-sure li, #op-list-maybe li{ margin:3px 0; }


/* 메모 패널과 겹치면 아래처럼 살짝 올려 두거나, 메모 위치를 더 아래로 */
@media (min-width: 1200px){
  .overlap-panel{ top: 16rem; }  /* 필요 시 */
}